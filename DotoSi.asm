SPEAKER REG P0.0
TONE 	REG R0
MCOUNT 	REG R1
TEMPO 	REG R2
TIME	REG R3

START:
	MOV MCOUNT,#0
	MOV R4,#8

BEGIN: 
	MOV 	DPTR,#SCALE
	MOV 	A,MCOUNT
	MOVC 	A,@A+DPTR
	MOV 	TONE,A
	INC 	MCOUNT
	MOVC 	A,@A+DPTR
	MOV 	TEMPO,A
	ACALL 	SOUND
	INC	MCOUNT
	DJNZ	R4,BEGIN
	;JMP	START
	JMP 	END

SOUND:
	MOV	TIMEm #2
sound1:
	SETB	SPEAKER
	ACALL	SDELAY
	CLR 	SPEAKER
	ACALL	SDELAY
	DJNZ	TIME,sound1
	DJNZ	TEMOI, SOUND
	RET

SDELAY:	
	MOV	B,TONE
delay1:
	MOV 	R5,#6
	DJNZ	R5,$
	DJNZ	TONE,delay1
	MOV	TONE,B
	RET


SCALE:
        DB    126,131
        DB    113,147
        DB    100,165
        DB    95 ,175
        DB    85 ,196
        DB    75 ,220
	DB    67 ,247
	DB    63 ,261

END:

